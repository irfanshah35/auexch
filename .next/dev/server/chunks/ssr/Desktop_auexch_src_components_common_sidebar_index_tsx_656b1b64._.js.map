{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/irfan/Desktop/auexch/src/components/common/sidebar/index.tsx"],"sourcesContent":["\"use client\";\nimport { useAppStore } from \"@/lib/store/store\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { FaChevronDown, FaCaretRight } from \"react-icons/fa\";\nimport { FaRegSquarePlus, FaRegSquareMinus } from \"react-icons/fa6\";\nimport dynamic from \"next/dynamic\";\n\nconst lazyLoadCasino = dynamic(() => import(\"@/components/m-view/m-live-casino\"), {\n  ssr: false,\n  loading: () => <></>,\n});\n\nconst adaptEventsMap = (raw: any): Record<string, any[]> => {\n  if (!raw || typeof raw !== \"object\") return {};\n  const out: Record<string, any[]> = {};\n\n  Object.keys(raw).forEach((sportId) => {\n    const arr = raw[sportId] || [];\n    out[sportId] = arr.map((it: any) => ({\n      sportId: String(sportId),\n      tournamentId: String(it?.competition?.id ?? \"\"),\n      tournamentName: it?.competition?.name ?? \"\",\n      totalMatched: it?.oddsData?.totalMatched ?? it?.totalMatched ?? 0,\n      eventId: String(it?.event?.id ?? it?.id ?? \"\"),\n      eventTypeId: String(it?.eventType?.id ?? \"\"),\n      __raw: it,\n    }));\n  });\n\n  return out;\n};\n\nconst buildTournamentsForSport = (\n  sportId: string,\n  eventsMap: Record<string, any[]>\n) => {\n  const arr = eventsMap[sportId] || [];\n  const seen = new Set<string>();\n  const unique: any[] = [];\n\n  for (const ev of arr) {\n    if (ev.tournamentId && !seen.has(ev.tournamentId)) {\n      seen.add(ev.tournamentId);\n      unique.push({\n        tournamentId: ev.tournamentId,\n        tournamentName: ev.tournamentName,\n      });\n    }\n  }\n  unique.sort((a, b) => a.tournamentName.localeCompare(b.tournamentName));\n  return unique;\n};\n\nexport default function Sidebar() {\n  const [isOthersOpen, setIsOthersOpen] = useState(true);\n  const [isAllSportsOpen, setIsAllSportsOpen] = useState(true);\n  const [eventList, setEventList] = useState<any>();\n  const [popularSportsList, setPopularSportList] = useState<any>();\n  const [tournamentList, setTournamentList] = useState<any>();\n  const router = useRouter();\n  const { menuList, allEventsList } = useAppStore();\n\n  useEffect(() => {\n    const events = adaptEventsMap(allEventsList);\n    const adapted = adaptSports(menuList?.eventTypes || []);\n    const popularSports = adapted.filter((s: any) => {\n      const list = events?.[String(s.sportId)];\n      return Array.isArray(list) && list.length > 0;\n    });\n    setPopularSportList(popularSports);\n  }, [menuList, allEventsList]);\n\n  const priorityOrder: Record<string, number> = {\n    Cricket: 1,\n    Soccer: 2,\n    Tennis: 3,\n  };\n\n  const adaptSports = (list: any[]): any[] => {\n    return (list || [])\n      .map((x: any) => ({\n        sportId: String(x?.eventType?.id ?? \"\"),\n        sportName: x?.eventType?.name ?? \"\",\n        sequence: priorityOrder[x?.eventType?.name] ?? 999,\n        marketCount: x?.marketCount ?? 0,\n        isOpen: false,\n      }))\n      .filter((s) => s.sportId !== \"66103\")\n      .sort((a, b) => a.sequence - b.sequence);\n  };\n\n  const [open, setOpen] = useState<{\n    sport: string;\n    tournament: string | null;\n  }>({ sport: \"0\", tournament: null });\n\n  const pathName = usePathname();\n\n  const toggleSport = (key: string) => {\n    setOpen((prev) => ({\n      sport: prev.sport === key ? \"0\" : key,\n      tournament: null,\n    }));\n    const events = adaptEventsMap(allEventsList);\n    const tournament = buildTournamentsForSport(key, events || {});\n    setTournamentList(tournament);\n  };\n\n  const toggleTournament = (key: string) => {\n    if (pathName?.includes(\"/market-details\") && open.tournament !== key) {\n      router.push(\"/\");\n    }\n    setOpen((prev) => ({\n      ...prev,\n      tournament: prev.tournament === key ? \"0\" : key,\n    }));\n    const events = adaptEventsMap(allEventsList);\n    const eventData = events[open.sport];\n    const filteredEvents = eventData.filter(\n      (e: any) => e.tournamentId === String(key)\n    );\n    const sortedEvents = filteredEvents?.sort(\n      (a: any, b: any) => b.totalMatched - a.totalMatched\n    );\n    setEventList(sortedEvents);\n  };\n\n  const handleCasinoClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    lazyLoadCasino; // triggers lazy load\n    router.push(\"/live-casino\");\n  };\n\n  const handleMarketDetailsClick = (event: any) => {\n    router.push(`/market-details/${event?.eventId}/${event?.sportId}`);\n  };\n\n  return (\n    <div\n      className=\"p-0 h-full hidden md:block\"\n      style={{\n        background: \"linear-gradient(-180deg, #b8b3b3 0%, #dad6d6 100%)\",\n        fontFamily: \"'Roboto Condensed', sans-serif\",\n        fontSize: \"16px\",\n        lineHeight: \"15px\",\n      }}\n    >\n      {/* Others */}\n      <div>\n        <div\n          className=\"cursor-pointer ps-1.5 pe-2 py-[7px]  min-h-[29.59px] mb-0 btn-clr text-white mt-px\"\n          onClick={() => setIsOthersOpen(!isOthersOpen)}\n        >\n          <h5 className=\"inline-block w-full text-[18px] mb-0\">\n            Others\n            <FaChevronDown\n              className={`float-right transition-transform ${isOthersOpen ? \"\" : \"-rotate-90\"\n                }`}\n              size={14}\n            />\n          </h5>\n        </div>\n\n        {isOthersOpen && (\n          <nav className=\"bg-[#C3BDBD]  border-b border-[#9e9e9e]\">\n            <ul className=\"py-[5] px-3 ml-[-9] h-[24.5px]\">\n              <li className=\"list-none text-white ml-2.5\">\n                <a href=\"#\" onClick={handleCasinoClick}>\n                  Casino\n                </a>\n              </li>\n            </ul>\n          </nav>\n        )}\n      </div>\n\n      {/* All Sports */}\n      <div>\n        <div\n          className=\"cursor-pointer pe-2 ps-1.5 py-[7px] mb-0 mt-[0.8px] btn-clr text-white h-[30px]\"\n          onClick={() => setIsAllSportsOpen(!isAllSportsOpen)}\n        >\n          <h5 className=\"inline-block w-full text-[18px] mb-0\">\n            All Sports\n            <FaChevronDown\n              className={`float-right transition-transform ${isAllSportsOpen ? \"\" : \"-rotate-90\"\n                }`}\n              size={14}\n            />\n          </h5>\n        </div>\n\n        {isAllSportsOpen && (\n          <nav className=\"bg-[#C3BDBD] py-[3px] text-white\">\n            {popularSportsList?.map((item: any, idx: number) => (\n              <ul\n                key={idx}\n                className={`mb-0 ${idx === 0 ? \"mt-[6.2px]\" : \"mt-[5.2px]\"\n                  }`}\n              >\n                <li className=\"list-none pl-2.5 pr-0\">\n                  {/* Sport name */}\n                  <div\n                    className=\"cursor-pointer\"\n                    onClick={() => toggleSport(item?.sportId)}\n                  >\n                    <span className=\"relative bottom-[1.7px]\">\n                      {open.sport === item?.sportId ? (\n                        <FaRegSquareMinus className=\"inline-block w-3.5 h-[19px]\" />\n                      ) : (\n                        <FaRegSquarePlus className=\"inline-block w-3.5 h-[19px]\" />\n                      )}\n                    </span>\n\n                    <span className=\"pl-1.5\">{item?.sportName}</span>\n                  </div>\n\n                  {/* Tournament list */}\n                  {open.sport === item?.sportId && (\n                    <ul className=\"mb-0 ml-0 pl-0 relative bottom-0.5\">\n                      {tournamentList?.map((tour: any) => (\n                        <li\n                          key={tour?.tournamentId}\n                          className=\"list-none py-1 pl-[19px] pr-0 leading-2.5\"\n                        >\n                          {/* Tournament */}\n                          <div\n                            className=\"cursor-pointer \"\n                            onClick={() => toggleTournament(tour?.tournamentId)}\n                          >\n                            <span className=\"relative bottom-0.5\">\n                              {open.tournament === tour?.tournamentId ? (\n                                <FaRegSquareMinus\n                                  className=\"inline-block align-middle\"\n                                  size={16}\n                                />\n                              ) : (\n                                <FaRegSquarePlus\n                                  className=\"inline-block align-middle\"\n                                  size={16}\n                                />\n                              )}\n                            </span>\n                            <span className=\"pl-[3px]\">\n                              {tour?.tournamentName}\n                            </span>\n                          </div>\n\n                          {/* Matches */}\n                          {open.tournament === tour?.tournamentId && (\n                            <ul className=\"mb-0 ml-0 pl-0 \">\n                              {eventList?.map((event: any, idx: number) => (\n                                <li\n                                  key={idx}\n                                  className=\"list-none py-1 pl-4 pr-0\"\n                                  onClick={() =>\n                                    handleMarketDetailsClick(event)\n                                  }\n                                >\n                                  <div className=\"cursor-pointer flex items-start\">\n                                    <FaCaretRight\n                                      className=\"inline-block mt-0.5\"\n                                      size={17}\n                                    />\n                                    <span>\n                                      {event?.__raw?.event?.name ||\n                                        event?.__raw?.name ||\n                                        \"Event \" + event?.eventId}\n                                    </span>\n                                  </div>\n                                </li>\n                              ))}\n                            </ul>\n                          )}\n                        </li>\n                      ))}\n                    </ul>\n                  )}\n                </li>\n              </ul>\n            ))}\n          </nav>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}